# AI Platform 环境配置示例
# 复制此文件为 .env 并根据实际情况修改配置

# ============================================
# 通用配置
# ============================================
LOG_LEVEL=info
GIN_MODE=debug

# ============================================
# 数据库配置 (Docker Compose 内部网络)
# ============================================
DB_HOST=mysql
DB_PORT=3306
DB_NAME=ai_platform
DB_USER=ai_platform
DB_PASSWORD=ai_platform123

# ============================================
# Redis 配置
# ============================================
REDIS_ADDR=redis:6379
REDIS_PASSWORD=

# ============================================
# JWT 认证配置
# ============================================
JWT_SECRET=your-jwt-secret-key-change-in-production
JWT_EXPIRE=24h

# ============================================
# KMS 密钥管理配置
# ============================================
# 本地开发使用 Mock 模式，不连接真实 KMS
KMS_MOCK=true
# 生产环境需要配置真实的 KMS 参数
# KMS_REGION_ID=cn-hangzhou
# KMS_KEY_ID=your-kms-key-id
# KMS_ACCESS_KEY_ID=your-access-key-id
# KMS_ACCESS_KEY_SECRET=your-access-key-secret

# ============================================
# 第三方 API 密钥
# ============================================
# 注意：第三方 API 密钥不在此处配置
# 请通过管理后台的"密钥管理"功能进行配置：
# 1. 访问 http://localhost:8002/api/v1/keys
# 2. 使用 POST /api/v1/keys 接口添加密钥
# 3. 密钥会加密存储在数据库中
#
# 配置示例 (通过 API 添加):
# {
#   "vendor": "openai",
#   "service": "dalle",
#   "key_name": "OpenAI DALL-E Key",
#   "api_key": "sk-your-actual-key-here",
#   "tier": "primary"
# }
OPENAI_API_KEY=
ALIYUN_API_KEY=

# ============================================
# 服务间调用地址 (Docker Compose 内部网络)
# ============================================
CONFIG_CENTER_ADDR=config-center:8080
REGISTRY_ADDR=service-registry:8080
KEY_MANAGER_ADDR=key-manager:8080
ROUTER_ENGINE_ADDR=router-engine:8080

# ============================================
# 路由配置
# ============================================
# 路由策略: weighted, priority, cost_based
ROUTING_STRATEGY=cost_based
# 是否启用降级
FALLBACK_ENABLED=true

# ============================================
# 限流配置
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=100

# ============================================
# 心跳配置 (Service Registry)
# ============================================
HEARTBEAT_TIMEOUT=90
HEARTBEAT_INTERVAL=10

# ============================================
# 弹性伸缩配置
# ============================================
# 默认检查间隔(秒)
SCALER_CHECK_INTERVAL=30
# 扩容冷却时间(秒)
SCALE_UP_COOLDOWN=60
# 缩容冷却时间(秒)
SCALE_DOWN_COOLDOWN=120
